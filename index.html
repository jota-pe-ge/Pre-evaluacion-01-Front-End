
<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- CSS de Bootstrap-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Trispace:wght@300;400;600&display=swap");

            :root {
                --bs-body-font-family: "Trispace", sans-serif;
                --bs-body-color: #eef;
                --bs-body-bg: #10121c;
            }
        </style>
        <title>Introducción al Desarrollo Front End con HTML, CSS y JavaScript</title>
    </head>
    <body>
        <header>
            <div class="container">
                <div class="row pt-5">
                    <div class="col-sm-10 col-md-8 col-lg-6 mx-auto">
                        <h1 class="display-4 text-center py-2">Aphex Twin</h1>
                        <p class="lead">
                          Richard David James (Limerick, Munster, 18 de agosto de 1971), más conocido como Aphex Twin (pronunciado /ˈeɪfeks twɪn/), es un DJ y productor irlandés nacionalizado británico.
                        </p>
                        <p>
                          Fue descrito por el periódico The Guardian en 2001 como "la figura más innovadora e influyente de la música electrónica contemporánea". Fundó el sello discográfico Rephlex Records en 1991 junto a Grant Wilson-Claridge.
En 2021 la publicación Pitchfork lo incluyó en su lista de los 200 artistas más influyentes de los últimos 25 años.
                        </p>
                        <p>Mediante un <a href="https://raw.githubusercontent.com/jota-pe-ge/datos/main/datos.json" target="_blank" class="link-light">JSON del registro de sus canciones</a>, podemos obtener algunos datos y crear algunos gráficos:</p>
                    </div>
                </div>
            </div>
        </header>

        <main class="container">
            <div class="accordion mx-md-5 my-5 rounded-0" id="accordionExample">
                <!--Cantidad de tracks en cada album-->
                <div class="accordion-item rounded-0">
                    <h2 class="accordion-header bg-dark" id="headingOne">
                        <button class="accordion-button rounded-0" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Primer Gráfico</button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-black-50">
                            <p>
                                Primer gráfico: Cantidad de tracks en cada album
                            </p>
                            <div class="col-md-6 mx-auto mb-3">
                                <canvas id="primerChart" width="100" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Comparación de las pistas por año-->
                <div class="accordion-item rounded-0">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Segundo Gráfico</button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-black-50">
                            <p>Segundo gráfico: Comparación de las pistas antes del año 2000 (tracks viejos) y después del 2000 (tracks nuevos)</p>
                            <div class="col-md-6 mx-auto mb-3">
                                <canvas id="segundoChart" width="100" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Duración de pistas-->
                <div class="accordion-item rounded-0">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Tercer Gráfico</button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-black-50">
                            <p>
                                Tercer gráfico: Muestra de pistas que duran menos de 6 minutos (tracks cortos) y aquellos que poseen una mayor duración (tracks largos)
                            </p>
                            <div class="col-md-6 mx-auto mb-3">
                                <canvas id="tercerChart" width="100" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Sobrevivientes por clases-->
                <div class="accordion-item rounded-0">
                    <h2 class="accordion-header" id="headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">Cuarto Gráfico</button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-black-50">
                            <p>
                                Cuarto gráfico: Comparación de los decibeles (dB) entre un rango de -15 dB, si es menor, se consideran tracks más melódicos, mientras que si son mayores, son más ruidosos.
                            </p>
                            <div class="col-md-6 mx-auto mb-3">
                            <canvas id="cuartoChart" width="100" height="100"></canvas>
                        </div>
                    </div>
                </div>
                <!--Sobrevivientes por clases-->
                <div class="accordion-item rounded-0">
                    <h2 class="accordion-header" id="headingFive">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">Quinto Gráfico</button>
                    </h2>
                    <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-black-50">
                            <p>
                                Quinto gráfico: Se señalan aquellas pistas que posean un tempo menor a 110 bpm (tracks lentos) y los de mayor tempo (tracks rápidos)
                            </p>
                            <div class="col-md-6 mx-auto mb-3">
                            <canvas id="quintoChart" width="100" height="100"></canvas>
                        </div>
                    </div>
                </div>
                <!--Fin-->
            </div>
            <div class="row">
                <div class="col-sm-10 col-md-8 col-lg-6 mx-auto">
                </div>
            </div>
        </main>

        <aside>
            <div class="container">
                <div class="row py-5">
                    <div class="col-sm-10 col-md-8 col-lg-6 mx-auto small text-center">
                        <p>
                            Fuentes: <a href="https://es.wikipedia.org/wiki/Aphex_Twin">Aphex Twin en Wikipedia</a>,
                            <a href="https://github.com/ilokhov/datavis-aphex-twin">Data visualisation of Aphex Twin tracks  por Ivan Lokhov.</a>
                        </p>
                    </div>
                </div>
            </div>
        </aside>

        <footer>
            <div class="container">
                <div class="row">
                    <div class="col"><p class="text-muted mt-5 text-center small">Bootstrap v5.1 y Charts.js</p></div>
                </div>
            </div>
        </footer>

        <!-- Biblioteca de Bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <!-- Biblioteca Chart.js -->
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"
            integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <!-- Un gran script, que contiene una función asincrónica para ir a buscar un JSON con -->
        <script>
            async function todo() {
                //el fetch
                const consulta = await fetch("https://raw.githubusercontent.com/jota-pe-ge/datos/main/datos.json");
                const data = await consulta.json();
                console.log(data);
                //algunas variables para calcular
                var album1 = 0;
                var album2 = 0;
                var album3 = 0;
                var album4 = 0;
                var album5 = 0;
                var album6 = 0;

                var viejos = 0;
                var nuevos = 0;

                var cortos = 0;
                var largos = 0;

                var discreto = 0;
                var ruidoso = 0;

                var lento = 0;
                var rapido = 0;

                data.forEach((d) => {
                if (d.album == "saw85") {
                    album1 = album1 + 1;
                } else if (d.album == "saw2") {
                    album2 = album2 + 1;
                } else if (d.album == "icbyd") {
                    album3 = album3 + 1;
                } else if (d.album == "rdj") {
                      album4 = album4 + 1;
                } else if (d.album == "drukqs") {
                      album5 = album5 + 1;
                } else if (d.album == "syro") {
                      album6 = album6 + 1;
                    }

                if (d.year < 2000) {
                        viejos = viejos + 1;
                    } else if (d.year > 2000) {
                        nuevos = nuevos + 1;
                    }

                if (d.length < 360) {
                            cortos = cortos + 1;
                        } else if (d.length > 360) {
                            largos = largos + 1;
                        }

                if (d.db < -15) {
                  discreto = discreto + 1;
                } else if (d.db > -15) {
                  ruidoso = ruidoso + 1;
                    }

                    if (d.bpm < 110) {
                      lento = lento + 1;
                    } else if (d.bpm > 110) {
                      rapido = rapido + 1;
                        }

                });



                //consultando en cada elemento del arreglo

                //tracks de cada album
                new Chart(document.getElementById("primerChart").getContext("2d"), {
                    type: "doughnut",
                    data: {
                        labels: ["Selected Ambient Works 85-92", "Selected Ambient Works Volume II", "...I Care Because You Do", "Richard D. James Album", "Drukqs", "Syro"],
                        datasets: [{ data: [album1, album2, album3, album4, album5, album6], label: "Albumes", backgroundColor: ["#edf8fb", "#bfd3e6", "#9ebcda", "#8c96c6", "#8856a7", "#810f7c"] }],
                    },
                    options: {
                        animation: false,
                        layout: {
                            padding: 10,
                        }
                        }
                      });
                    //tracks viejos vs nuevos
                    new Chart(document.getElementById("segundoChart").getContext("2d"), {
                          type: "bar",
                          data: {
                              labels: ["Tracks viejos", "Tracks nuevos"],
                              datasets: [{ data: [viejos, nuevos], label: "Tracks", backgroundColor: ["#a6bddb", "#2b8cbe"] }],
                          },
                          options: {
                              animation: false,
                              layout: {
                                  padding: 10,
                              }
                              }
                            });
                      //Comparacion de duracion
                      new Chart(document.getElementById("tercerChart").getContext("2d"), {
                            type: "bar",
                            data: {
                                labels: ["Tracks cortos", "Tracks largos"],
                                datasets: [{ data: [cortos, largos], label: "Tracks", backgroundColor: ["#99d8c9", "#2ca25f"] }],
                            },
                            options: {
                                animation: false,
                                layout: {
                                    padding: 10,
                                }
                                }
                              });
                              //Comparacion de ruido
                              new Chart(document.getElementById("cuartoChart").getContext("2d"), {
                                    type: "bar",
                                    data: {
                                        labels: ["Tracks melódicos", "Tracks ruidosos"],
                                        datasets: [{ data: [discreto, ruidoso], label: "Tracks", backgroundColor: ["#c994c7", "#dd1c77"] }],
                                    },
                                    options: {
                                        animation: false,
                                        layout: {
                                            padding: 10,
                                        }
                                        }
                                      });
                                      //Comparacion de velocidad
                                      new Chart(document.getElementById("quintoChart").getContext("2d"), {
                                            type: "bar",
                                            data: {
                                                labels: ["Tracks lentos", "Tracks rápidos"],
                                                datasets: [{ data: [lento, rapido], label: "Tracks", backgroundColor: ["#bcbddc", "#756bb1"] }],
                                            },
                                            options: {
                                                animation: false,
                                                layout: {
                                                    padding: 10,
                                                }
                                                }
                                              });
                    }





            todo().catch((error) => console.error(error));
        </script>

    </body>
</html>
